
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SmartSender</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    input, textarea, button { width: 100%; margin-top: 10px; padding: 10px; }
    #statusMessage { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>

  <h2>ğŸ“¬ SmartSender Gmail é‚®ä»¶ç¾¤å‘ç³»ç»Ÿ</h2>

  <label for="gmailUser">Gmail åœ°å€ï¼š</label>
  <input type="email" id="gmailUser" placeholder="ä¾‹å¦‚ï¼šyourname@gmail.com" />

  <label for="appPassword">Gmail åº”ç”¨å¯†ç ï¼š</label>
  <input type="password" id="appPassword" placeholder="16ä½åº”ç”¨å¯†ç " />

  <label for="bccEmail">ğŸ“¥ æµ‹è¯•æ”¶ä»¶äººé‚®ç®±åœ°å€ï¼ˆBccï¼‰ï¼š</label>
  <input type="email" id="bccEmail" placeholder="ä¾‹å¦‚ï¼šcshiy98@gmail.com" />

  <label for="subject">é‚®ä»¶ä¸»é¢˜ï¼š</label>
  <input type="text" id="subject" placeholder="è¯·è¾“å…¥é‚®ä»¶æ ‡é¢˜" />

  <label for="body">é‚®ä»¶å†…å®¹ï¼ˆæ”¯æŒ HTMLï¼‰ï¼š</label>
  <textarea id="body" rows="8" placeholder="ä¾‹å¦‚ï¼š<h1>Hello!</h1><p>This is a test.</p>"></textarea>

  <button onclick="sendEmail()">âœ‰ï¸ å‘é€æµ‹è¯•é‚®ä»¶</button>

  <div id="statusMessage"></div>

  <script>
    async function sendEmail() {
      const user = document.getElementById('gmailUser').value.trim();
      const pass = document.getElementById('appPassword').value.trim();
      const bcc = document.getElementById('bccEmail').value.trim();
      const subject = document.getElementById('subject').value.trim();
      const body = document.getElementById('body').value;

      const statusEl = document.getElementById('statusMessage');
      statusEl.innerText = "â³ æ­£åœ¨å‘é€ä¸­ï¼Œè¯·ç¨å€™...";

      if (!user || !pass || !bcc || !subject || !body) {
        statusEl.innerText = "âš ï¸ è¯·å¡«å†™æ‰€æœ‰å­—æ®µåå†å°è¯•å‘é€ï¼";
        return;
      }

      try {
        const response = await fetch("https://smart-sender-api.vercel.app/send", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ user, pass, bcc, subject, body })
        });

        const result = await response.json();

        if (result.success) {
          statusEl.innerText = "âœ… é‚®ä»¶å·²æˆåŠŸå‘é€ï¼ï¼ˆè¯·æŸ¥æ”¶ Inbox æˆ– Spamï¼‰";
        } else {
          statusEl.innerText = "âŒ é‚®ä»¶å‘é€å¤±è´¥ï¼š" + (result.message || "è¯·æ£€æŸ¥åº”ç”¨å¯†ç æ˜¯å¦æ­£ç¡®");
        }
      } catch (error) {
        statusEl.innerText = "âŒ ç½‘ç»œé”™è¯¯æˆ–æœåŠ¡å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•";
      }
    }
  </script>
</body>
</html>
